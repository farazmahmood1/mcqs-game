<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link href="https://fonts.googleapis.com" rel="preconnect" />
  <link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect" />
  <link href="https://fonts.googleapis.com/css2?family=Lora:wght@400;700&family=Poppins:wght@400;500;600&display=swap" rel="stylesheet" />
  <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet" />
  <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
  <style type="text/tailwindcss">
    :root {
      --lapis-blue: #0d1b2a;
      --radiant-gold: #ffd700;
      --emerald-green: #009b7d;
      --creamy-white: #f5f5f5;
      --muted-gold: #c9b037;
    }
    body {
      font-family: 'Poppins', sans-serif;
      background-color: var(--lapis-blue);
      background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='80' height='80' viewBox='0 0 80 80'%3E%3Cg fill='%23c9b037' fill-opacity='0.1'%3E%3Cpath fill-rule='evenodd' d='M11 0l5 20H6l5-20zm42 31l5 20H48l5-20zm-32 25l5 20H16l5-20zM0 5l20-5 5 20-20 5zm75 5l-20-5-5 20 20 5zM21 80l20-5 5 20-20 5zm43-31l-20-5-5 20 20 5z'/%3E%3C/g%3E%3C/svg%3E");
    }
    .font-serif { font-family: 'Lora', serif; }
    .glowing-border { transition: box-shadow 0.2s, border-color 0.2s; }
    .glowing-border:hover { box-shadow: 0 0 15px rgba(255, 215, 0, 0.35); border-color: var(--radiant-gold); }
    .radio-custom:checked { background-color: var(--radiant-gold); border-color: var(--radiant-gold); }
    .radio-custom:checked::after { content: ''; display: block; width: 8px; height: 8px; border-radius: 50%; background: var(--lapis-blue); transform: translate(3px, 3px); }
  </style>
</head>
<body class="text-[var(--creamy-white)]">
  <div class="relative flex min-h-screen flex-col overflow-x-hidden">
    <!-- Header -->
    <header class="flex items-center justify-between border-b border-[var(--radiant-gold)]/20 px-4 py-3 sm:px-6 lg:px-10">
      <div class="flex items-center gap-3 sm:gap-4">
        <svg class="h-7 w-7 sm:h-8 sm:w-8 text-[var(--radiant-gold)]" fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 2L9.19 8.63L2 9.24L7.46 13.97L5.82 21L12 17.27L18.18 21L16.54 13.97L22 9.24L14.81 8.63L12 2ZM12 15.4L6.9 18.52L8.23 12.81L3.91 9.07L9.58 8.6L12 3.33L14.42 8.6L20.09 9.07L15.77 12.81L17.1 18.52L12 15.4Z"></path></svg>
        <h2 class="font-serif text-xl font-bold text-white sm:text-2xl">Ramadan Quiz</h2>
      </div>

      <!-- Desktop Nav -->
      <nav class="hidden md:flex items-center gap-8">
        <a class="text-sm font-medium text-white transition-colors hover:text-[var(--radiant-gold)]" href="#">About</a>
        <a class="text-sm font-medium text-white transition-colors hover:text-[var(--radiant-gold)]" href="#">Contact</a>
      </nav>

      <!-- Mobile Menu Button -->
      <button id="menu-btn" class="md:hidden inline-flex items-center justify-center rounded-md p-2 ring-1 ring-white/20 hover:bg-white/10" aria-label="Open menu" aria-expanded="false">
        <svg class="h-6 w-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg>
      </button>
    </header>

    <!-- Mobile Nav Panel -->
    <div id="mobile-nav" class="md:hidden hidden border-b border-[var(--radiant-gold)]/20 bg-black/20 backdrop-blur">
      <div class="px-4 py-3 space-y-2">
        <a class="block rounded-md px-3 py-2 text-sm font-medium text-white hover:bg-white/10" href="#">About</a>
        <a class="block rounded-md px-3 py-2 text-sm font-medium text-white hover:bg-white/10" href="#">Contact</a>
      </div>
    </div>

    <!-- Main -->
    <main class="flex flex-1 items-center justify-center px-4 py-6 sm:px-6 lg:px-8">
      <div class="w-full max-w-3xl rounded-2xl bg-[var(--lapis-blue)]/80 shadow-2xl shadow-black/50 backdrop-blur-sm ring-1 ring-[var(--radiant-gold)]/20">
        <div class="border-b border-[var(--radiant-gold)]/20 p-5 text-center sm:p-6">
          <h1 class="font-serif text-3xl font-bold text-white sm:text-4xl">Ramadan Quiz</h1>
          <p class="mt-2 text-sm text-gray-300 sm:text-base">Answer all questions, then submit to see your score. You can go back and change answers anytime before submitting.</p>
        </div>

        <div class="p-5 sm:p-6 md:p-8">
          <div class="mb-6 grid grid-cols-1 items-center gap-4 sm:grid-cols-3">
            <p id="q-meta" class="text-xs sm:text-sm font-semibold uppercase tracking-wider text-[var(--radiant-gold)] text-center sm:text-left">Question 1 of 10</p>
            <div class="sm:col-span-2 h-2.5 w-full rounded-full bg-white/20">
              <div id="progress-bar" class="h-2.5 rounded-full bg-[var(--emerald-green)]" style="width: 10%"></div>
            </div>
          </div>

          <h2 id="question" class="font-serif mb-5 text-xl font-bold leading-tight text-white sm:mb-6 sm:text-2xl">Loading...</h2>

          <div id="options-container" class="space-y-3 sm:space-y-4"></div>

          <div class="mt-6 sm:mt-8 flex items-center justify-between gap-3">
            <button id="prev-btn" class="inline-flex w-full max-w-[10rem] items-center justify-center rounded-full border border-white/30 bg-white/5 px-6 py-3 text-base font-semibold text-white transition-all hover:bg-white/10 disabled:opacity-50 disabled:cursor-not-allowed sm:text-lg" disabled>Previous</button>
            <div class="ml-auto"></div>
            <button id="next-btn" class="inline-flex w-full max-w-[10rem] items-center justify-center rounded-full bg-[var(--radiant-gold)] px-6 py-3 text-base font-bold text-[var(--lapis-blue)] transition-all hover:scale-105 sm:text-lg">Next</button>
          </div>
        </div>
      </div>
    </main>
  </div>

  <!-- Submit Modal -->
  <div id="result-modal" class="fixed inset-0 z-50 hidden items-center justify-center">
    <div class="absolute inset-0 bg-black/60" aria-hidden="true"></div>
    <div role="dialog" aria-modal="true" aria-labelledby="result-title" class="relative z-10 w-full max-w-md rounded-2xl bg-gray-700 p-6 shadow-xl ring-1 ring-[var(--radiant-gold)]/30">
      <h3 id="result-title" class="font-serif text-2xl font-bold text-white">Your Score</h3>
      <p id="result-body" class="mt-2 text-sm text-gray-200">You scored 0/10.</p>
      <div class="mt-6 flex justify-end gap-2">
        <button id="close-modal" class="rounded-full border border-white/30 bg-white/5 px-4 py-2 text-sm font-medium text-white hover:bg-white/10">Close</button>
        <button id="retry-btn" class="rounded-full bg-[var(--radiant-gold)] px-4 py-2 text-sm font-bold text-[var(--lapis-blue)]">Retry</button>
      </div>
    </div>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const qMetaEl = document.getElementById('q-meta');
      const qTextEl = document.getElementById('question');
      const optionsContainer = document.getElementById('options-container');
      const prevBtn = document.getElementById('prev-btn');
      const nextBtn = document.getElementById('next-btn');
      const progressBar = document.getElementById('progress-bar');

      const modal = document.getElementById('result-modal');
      const closeModalBtn = document.getElementById('close-modal');
      const retryBtn = document.getElementById('retry-btn');
      const resultBody = document.getElementById('result-body');

      const questions = [
        { q: 'What is the significance of the Night of Power (Laylat al-Qadr) in Ramadan?', options: ['It marks the end of Ramadan.', 'It is the night when the Quran was first revealed to Prophet Muhammad.', 'It is the night of the first battle in Islamic history.', 'It is the night when Muslims celebrate the birth of Prophet Muhammad.'], correctIndex: 1 },
        { q: 'What is the Arabic term for fasting observed during Ramadan?', options: ['Zakat', 'Hajj', 'Sawm', 'Salat'], correctIndex: 2 },
        { q: 'Which meal traditionally breaks the fast at sunset?', options: ['Suhoor', 'Iftar', 'Tahajjud', 'Suhur'], correctIndex: 1 },
        { q: 'How many days does Ramadan typically last?', options: ['29 or 30 days', '7 days', '40 days', '10 days'], correctIndex: 0 },
        { q: 'Which lunar month is Ramadan in the Islamic calendar?', options: ['First', 'Ninth', 'Twelfth', 'Fifth'], correctIndex: 1 },
        { q: 'What is the pre-dawn meal before fasting begins?', options: ['Iftar', 'Suhoor', 'Eid', 'Taraweeh'], correctIndex: 1 },
        { q: 'What is the special nightly prayer performed during Ramadan?', options: ['Jumuâ€™ah', 'Taraweeh', 'Witr', 'Janazah'], correctIndex: 1 },
        { q: 'What charity is commonly given at the end of Ramadan to help those in need?', options: ['Zakat al-Fitr', 'Zakat al-Mal', 'Sadaqah Jariyah', 'Kaffarah'], correctIndex: 0 },
        { q: 'Which festival marks the end of Ramadan?', options: ['Eid al-Adha', 'Mawlid', 'Eid al-Fitr', 'Ashura'], correctIndex: 2 },
        { q: 'Fasting during Ramadan is obligatory for which group?', options: ['All Muslims with no exceptions', 'Adult Muslims who are healthy and able', 'Only scholars', 'Only leaders'], correctIndex: 1 },
      ];

      let current = 0;
      const selections = new Array(questions.length).fill(null);

      function renderQuestion() {
        const { q, options } = questions[current];
        qTextEl.textContent = q;
        optionsContainer.innerHTML = '';

        options.forEach((text, idx) => {
          const label = document.createElement('label');
          label.className = 'glowing-border flex cursor-pointer items-center gap-3 rounded-xl border border-white/20 bg-white/5 p-3 transition sm:gap-4 sm:p-4';

          const input = document.createElement('input');
          input.type = 'radio';
          input.name = 'quiz_option';
          input.value = String(idx);
          input.className = 'radio-custom h-5 w-5 flex-shrink-0 appearance-none rounded-full border-2 border-white/30 bg-transparent focus:outline-none focus:ring-2 focus:ring-[var(--radiant-gold)] focus:ring-offset-2 focus:ring-offset-[var(--lapis-blue)]';

          if (selections[current] === idx) input.checked = true;
          input.addEventListener('change', () => { selections[current] = idx; });

          const span = document.createElement('span');
          span.className = 'text-sm font-medium text-gray-200 sm:text-base';
          span.textContent = text;

          label.appendChild(input);
          label.appendChild(span);
          optionsContainer.appendChild(label);
        });

        updateHeaderAndButtons();
      }

      function updateHeaderAndButtons() {
        qMetaEl.textContent = `Question ${current + 1} of ${questions.length}`;
        const pct = ((current + 1) / questions.length) * 100;
        progressBar.style.width = pct + '%';
        prevBtn.disabled = current === 0;
        if (current === questions.length - 1) {
          nextBtn.textContent = 'Submit';
          nextBtn.setAttribute('data-mode', 'submit');
        } else {
          nextBtn.textContent = 'Next';
          nextBtn.setAttribute('data-mode', 'next');
        }
      }

      function openModal(score) {
        resultBody.textContent = `You scored ${score} / ${questions.length}.`;
        modal.classList.remove('hidden');
        modal.classList.add('flex');
      }

      function closeModal() {
        modal.classList.add('hidden');
        modal.classList.remove('flex');
      }

      function computeScore() { return selections.reduce((acc, sel, i) => acc + (sel === questions[i].correctIndex ? 1 : 0), 0); }

      prevBtn.addEventListener('click', () => { if (current > 0) { current--; renderQuestion(); } });

      nextBtn.addEventListener('click', () => {
        const mode = nextBtn.getAttribute('data-mode') || 'next';
        if (mode === 'submit') {
          const score = computeScore();
          openModal(score);
        } else if (current < questions.length - 1) {
          current++;
          renderQuestion();
        }
      });

      closeModalBtn.addEventListener('click', closeModal);
      modal.addEventListener('click', (e) => { if (e.target === modal) closeModal(); });
      retryBtn.addEventListener('click', () => { current = 0; for (let i = 0; i < selections.length; i++) selections[i] = null; closeModal(); renderQuestion(); });

      renderQuestion();
    });
  </script>
</body>
</html>
